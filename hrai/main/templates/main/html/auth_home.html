{% extends 'main/html/base.html' %}
{% load static %}
{% block title %}HRAI{% endblock %}

        {% block header-content %}
        <nav>
            <div class="dropdown">
               <a >Добавить резюме</a>
               <a >Создать вакансию</a>
               <a >Аналитика</a>
            </div>
        </nav>
        {% endblock %}
        {% block main_content %}
        <h2>Создать резюме</h2>
        <form method="get" > </form>  </main>
                <div class="search-box">
                    <select id="jobTitle" name="jobTitle">
                      <option value="">Выберите должность</option>
                      {% for title in job_titles %}
                        <option value="{{ title }}">{{ title }}</option>
                      {% endfor %}
                    </select>
                    <select id="skills" name="skills" multiple> </select>  <!-- multiple позволяет выбрать несколько навыков -->
                    <script>
                        const jobTitleSelect = document.getElementById("jobTitle");
                        const skillsSelect = document.getElementById("skills");
                        const skillsData = {{ skills_data|safe }}; //  Обратите внимание на {{ skills_data|safe }}

                        jobTitleSelect.addEventListener("change", function() {
                          const selectedJob = this.value;
                          skillsSelect.innerHTML = '<option value="">Выберите навыки</option>'; // Очищаем список навыков

                          if (selectedJob in skillsData) {
                            const jobSkills = skillsData[selectedJob];
                            jobSkills.forEach(skill => {
                              const option = document.createElement("option");
                              option.value = skill;
                              option.text = skill;
                              skillsSelect.appendChild(option);
                            });
                          }
                        });
                    </script>
                    <input type="number" id="salary" name="salary" min="0" step="1" pattern="[0-9]*">
                        <span id="salaryError" style="color: red;"></span>
                    <select id="workSchedule" name="workSchedule">
                          <option value="">Выберите график</option>
                          <option value="Удаленная работа">Удаленная работа</option>
                          <option value="Гибкий график">Гибкий график</option>
                          <option value="Полный день">Полный день</option>
                          <option value="Сменный график">Сменный график</option>
                          <option value="Вахтовый метод">Вахтовый метод</option>
                          </select>
                </div>
                <button type="submit">Создать</button>
        {% endblock %}

